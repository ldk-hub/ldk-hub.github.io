---
# 포스트제목
title: "CI/CD 구축하기"
# 포스팅 작성자
author: ["이동옥"] 
# 포스팅 공개일 - 정렬기준 포스팅날짜순서에 따라 기재됨.(주의 미래날짜는 기입X)
date: 2020-03-20 08:26:28 -0400
# 블로그 메인페이지에 썸네일과 함께 노출될 텍스트 설정 일정 길이를 초과하면 잘려서 표시됨.
# abstract:
# 태그를 입력
categories: [민망함은 나의몫]
categories: spring 세미나
# 대표 이미지를 입력합니다. 이미지 업로드 위치는 아래에 기술합니다.
# image: /assets/images/posts/nerdfactory-documentation-history/main.jpg
# 포스트의 초안 여부를 입력합니다. "no" 로 입력할 경우 공개됩니다.
draft: "no"
toc: true
---


## CI/CD   
자동화 도구 및 개선된 Work flow 수작업에서 자동화  

 - 다수의 개바라자가 개발한 소스를 지속적으로 통합하는것 지속 통합  
 - 자동화된 빌드 & 테스트는 원천 소스코드의 충돌 방지  
  
 개발자의 변경사항이 Repository를 넘어 고객의 프로덕션 환경까지 자동으로 지속적 배포  
 
  - 형상관리 소스코드 병합, 변경사항이력관리, 버전관리 등  
  - 소스코드 빌드 자동화  
  - 정합성 검증 커버리지 정적 분석, 표준형식 및 스타일 준수여부  
  - 변경사항이 다른 라이브러리 및 배포 환경 호환 여부 체크  
  - 수동테스트를 거쳐 클라이언트 요구사항 체크  
  - CI 파이프라인에서 생성된 패키지를 프로덕션으로 배포할 수 있도록 절차  
  - 자동화 또는 절차과정을 통해 프로덕션 배포  

## CI/CD 파이프라인 구성에 필수요소들  
1. 버전관리 저장소 -> SVN, GIT  
2. 빌드서버 -> 허드슨, 젠킨스   
3. 빌드스크립트 -> 스크립트, 배치파일  
4. 프로젝트 관리도구 -> 모니터링용 슬랙, 텔레그램 봇 등  
5. 품질관리도구 -> 인수테스트 자동수행 승인 -> sonarQube  




### 기존 프로젝트 소스를 자동배포 할 수 있도록 구성
 1. 로컬 PC 내 우분투 구성, wsl2, 젠킨스, 서비스 배포환경 구성, openjdk 설치, 도커 설치 깃허브 또는  SVN 구성
 2. 매번 배포때마다 수작업으로 진행보다 젠킨스 통해 자동배포 및 테스트로 인한 코드품질 및 안전성 확보



## 젠킨스  
젠킨스에서 CI/CD를 수행할 파이프라인을 설정 후 개발자가 소스를 repository 저장하면   
젠킨스는 소스를 체크 아웃 후 -> 아카이브와 디플로이를 자동으로 수행  
![2](https://user-images.githubusercontent.com/12209348/120097004-41869d00-c169-11eb-89d5-b5bbe5ecfe34.png)
![jenkins](https://user-images.githubusercontent.com/12209348/120097006-43506080-c169-11eb-9918-5fa11c563f4c.png)

장점  
 - 오픈소스 -효율적인 커뮤니티 지원 제공  
 - 플랫폼 간 통합 도구 - 운영 체계에 따라 실행  
 - 확장가능 - 지원하는 플러그인 기능이 풍부하고 다양  
 - 설치 및 사용이 간단  

단점   
 - 프로젝트별 보안 및 권한 설정 등이 불편함.  
 - 지라나 레드마인 등 이슈트래커와 연동이 어려움  
 - AWS에 독립적 전용 EC2가 있어야함.  
 - 호스팅을 직접해야됨   
 - 플러그인 관리 복잡하고 파이프라인 작성 어려움  

구성시 주의사항
CI/CD 파이프라인은 여러 단계가 있고 개발주기 전반에 걸쳐 지속적으로 실행되므로 고객 관점에서 서비스 목표와 수준을 평가하고 개발 및 운용조직의 기존 프로세스 변화에 따른 저항으로 부터 극복 가능한 수준으로 구상해야됨.

 - 개발/운영 환경 및 서비스 목적 확인 
    > 형상관리, 통합빌드 단위 테스트 수행 및 테스트 커버리지 측정 테스트를 포함한 빌드 결과의 손쉬운 확인이 가능한 통합 개발 환경 필요
 - 자동화 대상 기능 선정
    > 기존의 형상관리 시스템에서 관리 중인 소스코드들을 자동으로 빌드하는 환경
    > 빌드시 단위 테스트 수행 및 테스트 커버리지 측정, 빌드 및 테스트 결과 챗봇, 메신저 등 구성
 - 개발도구 선정
    > 개발 언어에 맞는 도구 선정
    >  오픈소스 도구, 상용 도구에 상관없이 현재 개발 환경에 적합한 도구 선정
 - 도구 간 연계성 파악
    > 레거시 시스템(형상관리, 개발 도구 등)과 연계가 가능한 도구 위주로 선정
    > 폐쇄적인 개발/운영 환경에서는 솔루션간 최신 버전 업그레이드 운용의 부담 

## 컨테이너 개념  
리눅스 기술을 사용해 선박의 컨테이너 처럼 프로세스가 사용하는 자원을 격리
 - 컨테이너는 가상머신과 마찬가지로 어플리케이션을 관련 라이브러리 및 종속 항목과 함께 패키지로 묶어 SW서비스 구동을 위한 격리환경 마련
 - 도커는 다양한 종류의 컨테이너 중 하나의 기술임.


### 도커 
도커는 컨테이너형 가상화 기술을 구현하기 위한 상주 어플리케이션과 이 어플리케이션을 조작하기 위한 명령행 도구로 구성되는 프로덕트.
 - 어플리케이션 배포에 특화 애플리케이션 개발 및 운영을 컨테이너 중심으로 할수있음.

1. 변화하지 않는 실행환경으로 동일한 요청을 한번 보내는 것과 여러번 연속으로 보내는것이 같은 효과를 지니고, 서버의 상태도 동일하게 남는것으로 확보
2. 코드를 통한 실행환경 구축 및 어플리케이션 구성
3. 실행환경과 어플리케이션 일체화로 이식성 향상
4. 시스템을 구성하는 어플리케이션 및 미들웨어 관리 용이해짐.





